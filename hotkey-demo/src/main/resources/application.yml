server:
  port: 8080

spring:
  redis:
    host: 127.0.0.1
    port: 6379
    timeout: 3000
    lettuce:
      pool:
        max-active: 100
        max-idle: 20
        min-idle: 0

hotkey:
  enabled: true                          # 是否启用，默认true
  detection:
    top-n: 20                            # Top N数量，默认10
    hot-key-qps-threshold: 20       # 热Key QPS阈值，修复：从10.0提高到1000.0，减少误判
    warm-key-qps-threshold: 10        # 温Key QPS阈值，默认500.0
    promotion-interval: 5000            # 晋升间隔（毫秒），修复：从5000增加到10000，减少频繁晋升
  monitor:
    prometheus:
      enabled: true                       # 启用Prometheus指标（默认启用）


logging:
  level:
    cn.techwolf.datastar.hotkey: DEBUG  # 临时改为DEBUG以便查看日志
    root: INFO
management:
  endpoints:
    web:
      base-path: /actuator  # 明确指定基础路径
      exposure:
        include: prometheus,health,info,metrics  # 暴露 prometheus 端点
  endpoint:
    health:
      show-details: always
  metrics:
    export:
      prometheus:
        enabled: true  # 启用 Prometheus 导出
    tags:
      application: ${spring.application.name:hotkey-demo}